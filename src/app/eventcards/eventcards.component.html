<div class="container-card">
    <div class="header">
        <h3>{{ item.location }}</h3> 
        <button class="menu-btn" (click)="toggleDropdown()">...</button>  
    </div> 
    <div class="container-event-holder"> 
        <div class="container-event-holder-main"> 
            <div class="desc">  
                <h1>{{ item.name }}</h1> 
                <p>{{ item.description }}</p> 
            </div>

            <div class="date-notification"> 
                <div class="date-div"> 
                    <p>{{ item.startDate }}</p> 
                    <p>{{ item.endDate }}</p>
                </div>  
                <div class="event-noti">  
                    <div class="task-counter">
                        <img src="assets/doubletick-grey.png" alt="" class="doubletick">
                        <p>{{ item.taskCompleted }} / {{ item.totalTask }}</p>
                    </div>  
                </div>

            </div>
        </div>
    </div>  
    <div class="task-btn">
        <button class="newTask" (click)="openForm()">+ Add New Task</button>
    </div>  
    <div *ngIf="dropdownVisible" class="dropdown-menu">
        <ul>
            <li (click)="updateItem()">Update</li>
            <li (click)="deleteItem()">Delete</li>
        
        </ul>
    </div> 
    <div class="modal-overlay" *ngIf="showDeleteConfirm">
        <div class="confirm-dialog">
            <h3>Delete Event</h3>
            <p>Are you sure you want to delete "{{ item.name }}"?</p>
            <p class="warning-text">This action cannot be undone.</p>
            
            <div class="dialog-actions">
                <button class="cancel-btn" (click)="cancelDelete()">Cancel</button>
                <button class="delete-btn" (click)="confirmDelete()">Delete</button>
            </div>
        </div>
    </div>
</div>   

<app-addtask *ngIf="showForm" (close)="closeForm()"></app-addtask>
<app-update-event-form
    *ngIf="showUpdateForm"
    [event]="item"
    (close)="closeUpdateForm()"
    (eventUpdated)="onEventUpdated($event)">
</app-update-event-form>